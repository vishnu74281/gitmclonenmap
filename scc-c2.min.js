!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("scc-c2",[],e):"object"==typeof exports?exports["scc-c2"]=e():t["scc-c2"]=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e);var n={};t.r(n),t.d(n,{_isDebug:()=>d,debug:()=>O,error:()=>g,info:()=>h,log:()=>h,setDebug:()=>b,warn:()=>w});var r={};t.r(r),t.d(r,{cmdLogEvent:()=>Jo,cmdLogPerf:()=>Zo});var o,i,a,c,u,f=(o="",a={document:i=Object.create({get cookie(){return o},set cookie(t){o=t}})},c={},"undefined"==typeof window?{window:a,document:i,navigator:c}:{window:window||a,document:window.document||i,navigator:navigator||c}),s=function(){return f.window},l=function(){return f.document},p=function(){return f.navigator},y=function(){var t=s().location;return t&&t.hostname?t.hostname:""},v=function(){var t=y(),e=t.split(".");return e.length>=2&&"co.uk"===(t=e.splice(e.length-2).join("."))&&(t="".concat(e.pop(),".").concat(t)),t},d=!1,b=function(t){d=!0===t||"true"===t},m=function(t){return s().console,function(){}},h=m(),g=m(),w=m(),O=function(){if(d){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];h.apply(null,e)}},j=function(t){if(s()[u])return s()[u][t]},S=function(t,e){s()[u]&&(s()[u][t]=e)},_=function(t,e){s()[t]=e,S(t,e)};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}var T=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];try{if(e(n,r))return t}catch(t){}}return t},C=function(){for(var t={},e=0;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];"object"===k(n)&&T(n,(function(e,n){t[e]=n}))}return t},x=function t(e){for(var n in e)void 0===e[n]?delete e[n]:"object"===k(e[n])&&(t(e[n]),0===Object.keys(e[n]).length&&delete e[n]);return e},I=function(t){if(2===t.length)return t[1]},R=function(t,e,n){if("string"!=typeof t)return{};for(var r={},o=t.split(e),i=0;i<o.length;i++){var a=o[i].split(n);r[a[0]]=I(a)}return r},L=function(t,e,n){var r=[];return T(t,(function(t,e){r.push("".concat(t).concat(n).concat(e))})),0===r.length?"":r.join(e)},D=function t(e,n){return n&&(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e)),Object.keys(e).forEach((function(r){if("object"===k(e[r])){var o=t(e[r],n);n&&(e[r]=o)}})),Object.freeze(e)},A=function(t,e){if(void 0===t)return t;void 0===e&&(e=2);for(var n=String(t);n.length<e;)n="0"+n;return n},M=function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||void 0!==t)return!0===t||1===t||"string"==typeof t&&("true"===t.toLowerCase()||"1"===t)},B=function(t){var e=parseInt(t,10);if(!isNaN(e))return e},q=function(t){return/^-?\d+$/.test(t)},F=function(){return function(t){var e=t.getUTCFullYear()+"-"+A(t.getUTCMonth()+1);if(e+="-"+A(t.getUTCDate())+"T"+A(t.getUTCHours())+":",e+=A(t.getUTCMinutes())+":"+A(t.getUTCSeconds()),t.getUTCMilliseconds){var n=t.getUTCMilliseconds();q(n)&&(e+="."+String((n/1e3).toFixed(3)).slice(2,5))}return e+"Z"}(new Date)},U=function(t){return"[object Array]"===Object.prototype.toString.call(t)},V=function(t,e){U(t)&&t.push({timestamp:F(),data:e})};function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z(r.key),r)}}function z(t){var e=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===N(e)?e:String(e)}const W=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.properties=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=z(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):{}}var e,n;return e=t,(n=[{key:"clear",value:function(){this.properties={}}},{key:"get",value:function(t){if(this.properties.hasOwnProperty(t))return this.properties[t]}},{key:"set",value:function(t,e){this.properties[t]=e}},{key:"isSet",value:function(t){if(this.properties.hasOwnProperty(t))return!0}},{key:"delete",value:function(t){delete this.properties[t]}},{key:"getProperties",value:function(t){var e={},n=function(){return!1};return t||"function"!=typeof t||(n=t),T(this.properties,(function(t,r){n(t)||(e[t]=r)})),e}},{key:"merge",value:function(e){var n=this,r=e;r instanceof t&&(r=e.getProperties()),T(r,(function(t,e){n.set(t,e)}))}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var $,H={},Q={"first-paint":"fp","first-contentful-paint":"fcp"},J=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","navigationStart","requestStart","responseEnd","responseStart","loadEventStart","loadEventEnd"],Z=["transferSize","encodedBodySize","decodedBodySize"],X=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r],i=t[o];void 0!==i&&(n[o]=Math.round(i))}return n},Y=function(t){return X(t,J)},tt=function(t){return X(t,Z)},et=function(t,e){var n=new W;"tcc"===t&&n.set("tccin",e||"na");try{($=s().performance)&&$.timing?(function(t){if(t.merge(Y($.timing)),$.getEntriesByName){var e=$.getEntriesByName(l().location.href)[0];if(!e&&$.getEntriesByType){var n=$.getEntriesByType("navigation");e=n[n.length-1]}e&&(t.merge(tt(e)),t.set("navigationType",e.type))}}(n),"tcc"===t&&(function(t){if($.getEntriesByType){var e=$.getEntriesByType("mark");if(U(e)){t.set("marks",e.slice(0,10).map((function(t){return{name:t.name,startTime:Math.round(t.startTime)}})));var n=$.getEntriesByType("measure");U(n)&&t.set("measures",n.slice(0,10).map((function(t){return{name:t.name,duration:Math.round(t.duration)}})))}}}(n),function(t){if($.getEntriesByType){var e=$.getEntriesByType("paint");e&&e.forEach((function(e){t.set(Q[e.name],Math.round(e.startTime))}))}}(n))):("tcc"===t&&n.set("tccperfapi","not supported"),g("Error loading performance lib"))}catch(t){g("_collect unable to get performance data",t)}return n.getProperties()},nt=function(t,e,n){setTimeout((function(){s()._expDataLayer=s()._expDataLayer||[],s()._expDataLayer.push({schema:"add_perf",version:"v1",data:"tcc"===t?{type:"pageperf",properties:C(e,H,{nav_type:"hard"}),custom_properties:n}:{timing_object:C(e,H),is_hard_navigation:!0,custom_properties:n}})}),0)},rt=function(){return!($=s().performance)||!$.timing||$.timing.loadEventStart>0},ot=!1;function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===it(o)?o:String(o)),r)}var o}var ct,ut=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loaded=!1,this._onLoadFns=[],e?this._loaded=!0:n(this._triggerOnLoad.bind(this))}var e,n;return e=t,(n=[{key:"_executeFn",value:function(t){try{t()}catch(e){g("Exception while executing onLoad callback",t,e)}}},{key:"_triggerOnLoad",value:function(){this._loaded=!0;for(var t=0;t<this._onLoadFns.length;t++)this._executeFn(this._onLoadFns[t])}},{key:"registerOnLoadFn",value:function(t){(function(t){return t&&"[object Function]"==={}.toString.call(t)})(t)&&(this._loaded?this._executeFn(t):this._onLoadFns.push(t))}}])&&at(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ft=s().Request,st=ft&&"keepalive"in new ft(""),lt=void 0!==p().sendBeacon,pt=function(t,e,n,r){var o=s().XMLHttpRequest;if(o){var i=new o;i.open(e,t,!0),T(r,(function(t,e){i.setRequestHeader(t,e)})),i.send(n)}},yt=function(t,e,n,r,o,i,a){var c=C({},i),u=r?JSON.stringify(r):null;if("POST"===n&&(c["Content-Type"]="application/json"),lt&&!c.Authorization&&"POST"===n)try{var f=s().Blob;p().sendBeacon(t,new f([u],c))}catch(e){pt(t,n,u,c)}else!function(t,e,n,r,o){var i=s().fetch;st&&i?i(t,{keepalive:!0,method:e,headers:r,body:n,credentials:o}).catch((function(o){pt(t,e,n,r)})):pt(t,e,n,r)}(t,n,u,c,a);!function(t,e,n,r,o){var i={endpoint:e,queryParams:n,method:r,payload:o};V(j(t),i)}(o,t,e,n,r)},vt=function(t,e){var n=j("config")[t];if(n&&e)return n[e]},dt=[{name:"EMAIL",regex:/[^@^=]+@[^@]+\.[^@^&]+/}],bt=function(t,e){if("string"!=typeof t)return t;for(var n=t,r=0;r<dt.length;r++)for(var o=dt[r].regex,i=n.match(o);i&&i[0];)i=(n=n.replace(i[0],"REDACTED")).match(o);return n},mt=function(t){return(t=t||s().location.search)?("?","?"===t.substr(0,1)&&(t=t.substring(1)),t.split("&")):[]},ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://".concat(t?t+".":"").concat(function(){if(ct)return ct;var t=v();if("secureserver.net"===(t=function(t){var e=t||v();return e.indexOf("godaddy.com")>=0||e.indexOf("secureserver.net")>=0}(t)?t:"secureserver.net")){var e=vt("build","env");t="prod"===e?t:"".concat(e,"-").concat(t)}return ct=t}())};function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){f=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return c}}(t,e)||Ot(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,e){if(t){if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===gt(o)?o:String(o)),r)}var o}const _t=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventQueue=[],this._sendBatchCallback=e,this._maxEvents=r,this._bindUnload(),this._processInterval=setInterval((function(){n._sendBatch()}),250)}var e,n;return e=t,(n=[{key:"_bindUnload",value:function(){var t=this,e=this.flush.bind(this),n=s().attachEvent,r=s().addEventListener,o=l().addEventListener;r?(r("beforeunload",e,!1),r("pagehide",e,!1)):n&&n("beforeunload",e),o&&o("visibilitychange",function(){"hidden"===l().visibilityState&&t.flush()}.bind(this))}},{key:"_sendRequests",value:function(t){var e=this;Object.entries(t).forEach((function(t){var n=wt(t,2),r=n[0],o=n[1];try{var i=wt(r.split("|"),2),a=i[0],c={schemaId:i[1],data:[]};Object.values(o).forEach((function(t){if(t.events.length>10)for(var e=t.events.length/10,n=0;n<e;n++)c.data.push(C(t,{events:t.events.slice(10*n,10*n+10)}));else c.data.push(t)})),e._sendBatchCallback(c,a)}catch(t){g("Failed to send request: ".concat(t))}}))}},{key:"pushEvent",value:function(t,e){e||!st&&!lt?this._sendBatch(t):this._eventQueue.push(t)}},{key:"_getRequestBatch",value:function(t,e,n){var r=n.apiKey,o=n.schemaId,i=n.global,a=n.contextVersion,c=n.businessContext,u="".concat(r,"|").concat(o),f=t[u]||{};t[u]=f;var s=0;c&&(e.push(c),s=e.length);var l="".concat(a,"|").concat(s);return{batch:f[l]||{global:i,businessContext:c,events:[]},batchKey:l,request:f}}},{key:"_processEvent",value:function(t,e,n){var r,o,i=this._getRequestBatch(t,e,n),a=i.batch,c=i.batchKey,u=i.request;return(r=a.events).push.apply(r,function(t){if(Array.isArray(t))return jt(t)}(o=n.events.slice(0,this._maxEvents))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||Ot(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n.events.length>this._maxEvents&&this.pushEvent(C(n,{events:n.events.slice(this._maxEvents)})),u[c]=a,Math.min(n.events.length,this._maxEvents)}},{key:"_sendBatch",value:function(t){var e=0,n={},r=[];for(t&&(e+=this._processEvent(n,r,t));this._eventQueue.length>0&&e<this._maxEvents;)e+=this._processEvent(n,r,this._eventQueue.shift());this._sendRequests(n)}},{key:"flush",value:function(){for(;this._eventQueue.length>0;)this._sendBatch()}}])&&St(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var Pt,Et="_eventBusSendLog",kt=function(t,e){yt("".concat(ht("csp"),"/eventbus"),null,"POST",t,Et,{Authorization:"api-key ".concat(e)})};function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Tt(o)?o:String(o)),r)}var o}function xt(){return xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xt.apply(this,arguments)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function Rt(t){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(t)}var Lt=function(t){try{return JSON.parse(t)}catch(t){return{}}};const Dt=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rt(r);if(o){var n=Rt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._updateWindow(),e}return e=a,(n=[{key:"_updateWindow",value:function(){S("config",D(this.properties,!0))}},{key:"set",value:function(t,e){xt(Rt(a.prototype),"set",this).call(this,t,e),this._updateWindow()}},{key:"merge",value:function(t){xt(Rt(a.prototype),"merge",this).call(this,t),this._updateWindow()}}])&&Ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(W))({build:{env:"prod",date:"2024-09-10T20:24:15.636Z"},client:{name:"scc-c2",version:"0.4.3"},cookie:{sameSite:"none"},site:{privateLabelId:""},sGtm:{enabled:M(""),whitelist:Lt(""),account:"",host:""},ga:{account:""},wGtm:{enabled:M(""),requireGoogleClientId:M(""),whitelist:Lt(""),account:""},eventBus:{enabled:M("true"),sccApiKey:"b18ef4f046435b64a469b32c3c1c20a3",rigorApiKey:"8da2217409854bee82e12dc4ca0b39fb"},clickListener:{enabled:!0,navDelayMs:75},timing:{auto:!0},webVitals:{enabled:!0,url:""},consent:{delayMs:500}});var At,Mt,Bt,qt=function(t,e){var n=Dt.get(t);if(n&&e)return n[e]},Ft=function(t,e,n){var r=Dt.get(t),o=r||{};r||Dt.set(t,o),o[e]=n};function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vt,Nt,Kt=[],Gt={},zt=0,Wt=function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(Vt);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.startsWith("".concat(r,".")))return!1}}catch(t){n.e(t)}finally{n.f()}return!0},$t=function(t,e){"debug"===t&&b(e)},Ht=function(){var t,e,n=function(){for(var t={},e=0;e<Mt.length;e++){var n=Mt[e];T(n,(function(e,n){-1===Nt.indexOf(e.toLowerCase())&&($t(e,n),Wt(e)||(t[e]=n))}))}return t}();e={identity:{realm:(t=n)["".concat(At,".realm")]},site:{privateLabelId:t["".concat(At,".privateLabelId")]},timing:{auto:!M(t["".concat(At,".manualPagePerf")],!1)},page:{spa:t["".concat(At,".spa")],id:t["".concat(At,".pageId")],contentGroup:t["".concat(At,".gaContentGroup")]||t["".concat(At,".contentGroup")],referrerExclusion:t["".concat(At,".referrerExclusion")]},cookie:{sameSite:t["".concat(At,".cookies.sameSite")]},wGtm:{enabled:M(t["".concat(At,".webGtmEnabled")],!1)},clickListener:{enabled:!M(t["".concat(At,".listenerDisabled")],!1),navDelayMs:t["".concat(At,".eventDelayMs")]}},Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];void 0!==r&&Ft(t,n,r)}))})),Dt.merge(n),V(Kt,n)};const Qt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Jt;const Zt=new Uint8Array(16);function Xt(){if(!Jt&&(Jt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jt(Zt)}const Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));const te=function(t,e,n){if(Qt.randomUUID&&!e&&!t)return Qt.randomUUID();const r=(t=t||{}).random||(t.rng||Xt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]}(r)};var ee=function(){return te()};function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ne(o)?o:String(o)),r)}var o}var ie=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataLayerNames=e,this.dataLayerLog=[],this.asyncCommands=[],this.loaded=!1,this.dataLayers=[],this.dataLayerNames.forEach((function(t){var e,r,o=s()[t];U(o)&&(e=n.asyncCommands).push.apply(e,function(t){if(Array.isArray(t))return re(t)}(r=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_(t,n),n.dataLayers.push(o)}))}var e,n;return e=t,(n=[{key:"start",value:function(){this.loadAsyncCommands()}},{key:"pushLog",value:function(t){V(this.dataLayerLog,t)}},{key:"process",value:function(){}},{key:"push",value:function(t){this.loaded?this.process(t):this.asyncCommands.push(t)}},{key:"loadAsyncCommands",value:function(){for(;this.asyncCommands.length>0;)this.process(this.asyncCommands.shift());this.loaded=!0}}])&&oe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ce(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ce(o)?o:String(o)),r)}var o}function se(t,e,n){return e&&fe(t.prototype,e),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var le=function(){function t(e,n){if(ue(this,t),!e)throw"Missing version definitions";this._versionedDefinitions=e,this._interfaceType=n}return se(t,[{key:"getInterface",value:function(t,e){var n=this._versionedDefinitions[e];if(n)return n}}]),t}(),pe=function(){function t(e){if(ue(this,t),!e)throw"Missing type definitions";this._typeVersionDefinitionMap=e}return se(t,[{key:"getInterface",value:function(t,e,n){var r=this._typeVersionDefinitionMap[n];if(r)return r.getInterface(t,e)}}]),t}(),ye={},ve=function(t){for(var e=function(){var t,e,o=(t=r[n],e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){f=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];if(U(a)){var c={};a.forEach((function(t){var e={};Object.keys(t).forEach((function(n){"type"!==n&&(e[n]=t[n])})),c[t.type]=new le(e,t.type)})),ye[i]=new pe(c)}else ye[i]=new le(a)},n=0,r=Object.entries(t);n<r.length;n++)e()},de="string",be="OPTIONAL",me="REQUIRED",he="map";function ge(){return ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ge.apply(this,arguments)}function we(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oe(t,e)}function Oe(t,e){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oe(t,e)}function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Se(t);if(e){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}function _e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ke(o)?o:String(o)),r)}var o}function Ee(t,e,n){return e&&Pe(t.prototype,e),n&&Pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}var Te=function(t,e,n){var r;if("CALCULATED"!==e._fieldType){var o=t[e.name];"sub"===e._resolutionType&&(o=t),r=e.parse(o)}var i=ke(e.transformFn);if("undefined"!==i){var a=U(e.transformFn);if("function"===i||a)for(var c=a?e.transformFn:[e.transformFn],u=0;u<c.length;u++)r=c[u](r,n);else r=e.transformFn}return e._outputType&&e._outputType===de&&(r=r.toString()),r},Ce=function(){function t(e){_e(this,t),this.name=e,this.properties=[],this.definitionType="",this._outputType,this._resolutionType=he,this._fieldType=be,this.outputKey,this.allowedValuesList=[]}return Ee(t,[{key:"parse",value:function(t){if(this.validate(t),this._fieldType!==be||t||"boolean"==typeof t||0===t){for(var e=new W,n=0;n<this.properties.length;n++){var r=this.properties[n],o=Te(t,r,e.getProperties());r._resolutionType===he?e.set(r.outputKey||r.name,o):e.merge(o)}return e.getProperties()}}},{key:"validate",value:function(t){if(this._fieldType===me&&!t&&"boolean"!=typeof t&&0!==t)throw"Missing required property '".concat(this.name,"'");if(this.allowedValuesList.length>0&&!this.allowedValuesList.includes(t))throw"Input '".concat(t,"' for property '").concat(this.name,"' is not one of the allowed values (").concat(this.allowedValuesList,").")}},{key:"optional",value:function(){return this._fieldType=be,this}},{key:"required",value:function(){return this._fieldType=me,this}},{key:"load",value:function(){for(var t=0;t<this.properties.length;t++)this.properties[t].load()}},{key:"stringify",value:function(){for(var t=new W,e=0;e<this.properties.length;e++){var n=this.properties[e];t.merge(n.stringify())}return t.getProperties()}},{key:"clean",value:function(){for(var t=0;t<this.properties.length;t++)this.properties[t].clean();this.properties=[]}},{key:"transform",value:function(t){return this.transformFn=t,this}},{key:"transformKey",value:function(t){return this.outputKey=t,this}},{key:"allowedValues",value:function(t){return this.allowedValuesList=t,this}},{key:"outputType",value:function(t){return this._outputType=t,this}}]),t}(),xe=function(t){we(n,t);var e=je(n);function n(t,r){var o;return _e(this,n),(o=e.call(this,t)).definitionType="Schema",o.properties=r,o}return Ee(n,[{key:"parse",value:function(t){var e;if(this.properties&&this.properties.length>0)try{this.load(),e=ge(Se(n.prototype),"parse",this).call(this,t||{}),this.clean()}catch(t){throw""}return Object.freeze(e)}}]),n}(Ce),Ie=function(t){we(n,t);var e=je(n);function n(t){return _e(this,n),e.call(this,t)}return Ee(n,[{key:"parse",value:function(t){return this.validate(t),t}},{key:"stringify",value:function(){var t={};return t[this.name]=this._fieldType,t}}]),n}(Ce),Re=function(t){we(n,t);var e=je(n);function n(){var t;return _e(this,n),(t=e.call(this)).objDefinitions=[],t.definitionType="Object",t}return Ee(n,[{key:"load",value:function(){this.properties=this.properties.concat(this.objDefinitions),this.extraDefinitions&&(this.properties=this.properties.concat(this.extraDefinitions)),ge(Se(n.prototype),"load",this).call(this)}},{key:"stringify",value:function(){if(this._resolutionType===he){var t={};return t["".concat(this.name," (").concat(this._fieldType,")")]=ge(Se(n.prototype),"stringify",this).call(this),t}return ge(Se(n.prototype),"stringify",this).call(this)}},{key:"substitute",value:function(t){return this.objDefinitions=t,this._resolutionType="sub",this}},{key:"map",value:function(t,e){return this.name=t,this.objDefinitions=e,this._resolutionType=he,this}},{key:"extend",value:function(t){return this.extraDefinitions=t,this}}]),n}(Ce),Le=function(t){we(n,t);var e=je(n);function n(){var t;return _e(this,n),(t=e.call(this)).definitionType="Collection",t.minElements=0,t}return Ee(n,[{key:"parse",value:function(t){if(this.minElements&&(!t||t.length<this.minElements))throw"";if(void 0!==t){if(!U(t))throw"";return t.map(ge(Se(n.prototype),"parse",this).bind(this))}}},{key:"stringify",value:function(){if(this._resolutionType===he){var t={};t["".concat(this.minElements,"...n")]=ge(Se(n.prototype),"stringify",this).call(this)["".concat(this.name," (").concat(this._fieldType,")")];var e={};return e["".concat(this.name," (").concat(this._fieldType,")")]=t,e}return ge(Se(n.prototype),"stringify",this).call(this)}},{key:"withMinElements",value:function(t){return this.minElements=t,this._fieldType=t>0?me:be,this}}]),n}(Re);function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ae(t){return function(t){if(Array.isArray(t))return Me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==De(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===De(o)?o:String(o)),r)}var o}function qe(){return qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ue(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},qe.apply(this,arguments)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}var Ve=["_expDataLayer","_signalsDataLayer"],Ne=["add_virtual_page_view","set_config","subscribe"],Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ue(o);if(i){var n=Ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===De(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e,n=t.pageViewSchema,r=t.autoPageViewDisabled,o=t.beforeEvent,i=t.immediateSchemas,u=void 0===i?[]:i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,Ve)).pageViewSchema=n,e.autoPageViewDisabled=r,e.beforeEvent=o,e.immediateSchemas=[Ne].concat(Ae(u)),e._initEvents(),e}return e=c,(r=[{key:"push",value:function(t){return this.immediateSchemas.includes(t.schema)?this.process(t):qe(Ue(c.prototype),"push",this).call(this,t)}},{key:"_initEvents",value:function(){for(var t=!this.autoPageViewDisabled,e=this.asyncCommands.length-1;e>=0;e--){var n=this.asyncCommands[e];n.schema!==this.pageViewSchema||n.data&&n.data.virtual_path||(t=!1),"set_config"===n.schema&&this.process.apply(this,Ae(this.asyncCommands.splice(e,1)))}t&&this.process({schema:this.pageViewSchema})}},{key:"process",value:function(t){qe(Ue(c.prototype),"pushLog",this).call(this,t);try{var e=t.data,r=t.schema||t.interface,o=t.type,i=t.version||"v1",a=t.targets||[],u={eventId:ee()};this.beforeEvent&&this.beforeEvent(),function(){for(;zt<Mt.length;){var t=Mt[zt];T(t,(function(t,e){-1===Nt.indexOf(t.toLowerCase())&&Wt(t)&&($t(t,e),Gt[t]=e)})),zt++}}(),function(t,e,n,r,o,i){var a=function(t,e,n){var r=ye[t];if(r)return r.getInterface(t,n,e)}(t,e,n),c=new xe(t,a.properties).parse(r)||{},u=new a.handler(c,e,n,o,i);u.preProcess(c),u.process(c)}(r,o,i,e,u,a)}catch(e){var f=["Unable to process",t,"\n\n"];g.apply(n,f.concat(e))}}}])&&Be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(ie);function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ge(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ge(o)?o:String(o)),r)}var o}function We(){return We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},We.apply(this,arguments)}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},He(t)}var Qe=["_trfq"],Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=He(r);if(o){var n=He(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,Qe)).handlers=t,e.start(),e}return e=a,(n=[{key:"process",value:function(t){We(He(a.prototype),"pushLog",this).call(this,t);try{var e=Array.prototype.slice.call(t,1),n=t[0];this.handlers[n]?this.handlers[n].apply(null,e):g("Invalid command sent to data layer",this.dataLayerName,t)}catch(e){g("Unable to process",t,e)}}}])&&ze(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(ie);const Ze=new W;var Xe,Ye,tn,en=function(t,e,n,r){var o=vt("cookie","sameSite")||"",i=new Date;i.setTime(i.getTime()+60*n*1e3),l().cookie="".concat(t,"=").concat(encodeURI(e),"; domain=").concat(v(),"; ")+(n?"expires=".concat(i.toGMTString(),"; "):"")+(r?"path=".concat(r,"; "):"")+(o?"SameSite=".concat(o,"; "):"")+("NONE"===o.toUpperCase()?" Secure;":"")},nn=function(t){var e=l().cookie;return Ye!==e&&(tn=function(t){for(var e=t.split(";"),n=Object.create(null),r=0;r<e.length;r++){var o=/([^=]*)*=([\s\S]*)/.exec(e[r]);if(o&&o[2]){var i=o[1].trim(),a=decodeURIComponent(o[2].trim());n[i]=a}}return n}(e),Ye=e),tn[t]},rn=function(t){var e=nn(t);return R(e,"&","=")},on=function(){var t,e=l().querySelector("meta[name='gd:traceId']");return e&&(t=e.getAttribute("content")),t&&!Dt.get("tcc.disablePageTracing")?{trace_id:t,traced:1}:{trace_id:ee().replace(/-/g,"")}},an="experiments";const cn=new W;function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function fn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){f=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=vn(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vn(r.key),r)}}function vn(t){var e=function(t,e){if("object"!==un(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===un(e)?e:String(e)}var dn=function(){function t(e){var n=e.contextFnMap,r=e.paramsFnMap,o=void 0===r?{}:r,i=e.windowName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contextFnMap=n,this._paramsFnMap=o,this._windowName=i}var e,n;return e=t,(n=[{key:"init",value:function(t){var e=t.context,n=void 0===e?{}:e,r=t.contextFnMap,o=void 0===r?{}:r,i=t.paramsFnMap,a=void 0===i?{}:i;this.version=0,this.context=n,this._initialContext=pn({},n),this._contextMap={},this._contextFnMap=C(this._contextFnMap,o),this._paramsFnMap=C(this._paramsFnMap,a)}},{key:"_buildContext",value:function(t){var e=pn({},this._initialContext);return Object.entries(t).forEach((function(t){var n,r=fn(t,2),o=r[0],i=r[1],a=o.split("."),c=e;a.forEach((function(t,e){e<a.length-1?(c[t]=c[t]||{},c=c[t]):n=t})),c[n]=i})),e}},{key:"updateContext",value:function(){var t=this;if(this._contextFnMap){var e=!1,n={},r={};Object.entries(this._paramsFnMap).forEach((function(t){var e=fn(t,2),n=e[0],o=e[1];try{r[n]=o()}catch(t){g("Error executing paramsFnMap for key: ".concat(n),t)}})),Object.entries(this._contextFnMap).forEach((function(o){var i=fn(o,2),a=i[0],c=(0,i[1])(r);t._contextMap[a]!==c&&(e=!0),void 0!==c&&(n[a]=c)})),e&&(this.version++,this.context=D(this._buildContext(n)),this._contextMap=n,this._windowName&&S(this._windowName,this.context))}}}])&&yn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const bn=new dn({contextFnMap:{experiments:function(){return cn.get("experiments")}}});var mn={"godaddy.com":1,"mediatemple.net":4500,"afternic.com":497036},hn=[function(){return qt("site","privateLabelId")},function(){return function(t,e,n){for(var r=mt(n),o=r.length-1;o>=0;o--){var i=r[o].split("=");if(e){if((i[0]+"").toLowerCase()===(t+"").toLowerCase())return i[1]}else if(i[0]===t)return i[1]}}("plid")},function(){var t=v().replace("dev-","").replace("test-","").replace("stg-","");if(mn.hasOwnProperty(t))return mn[t]}],gn=function(){for(var t=0;t<hn.length;t++){var e=hn[t]();if(e&&q(e))return B(e)}};function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wn(o)?o:String(o)),r)}var o}function jn(){return jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},jn.apply(this,arguments)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}var Pn={"client.userAgent":function(){return p().userAgent},"client.sdk.name":function(){return qt("client","name")},"client.sdk.version":function(){return qt("client","version")},"client.device.viewportWidth":function(t){var e=t.win,n=t.doc;return B(e.innerWidth?e.innerWidth:n.body.offsetWidth)},"client.device.viewportHeight":function(t){var e=t.win,n=t.doc;return B(e.innerHeight?e.innerHeight:n.body.offsetHeight)},"client.device.screenResolutionWidth":function(t){var e=t.win;return B(e.screen.width)},"client.device.screenResolutionHeight":function(t){var e=t.win;return B(e.screen.height)},"page.id":function(){return qt("page","id")},"page.traceId":function(){return Ze.get("trace_id")},"page.contentGroup":function(){return function(){var t=qt("page","contentGroup");if("string"!=typeof t)return t;for(var e=t.split("/"),n=e.length-1;n>=0;n--)e[n]=e[n].trim(),e[n]||e.splice(n,1);if(e.length>0)for(;e.length<3;)e.push("Other");return e.join(" / ")}()},"page.host":function(){return y()},"page.path":function(t){return t.win.location.pathname},"page.virtualPath":function(){return Ze.get("virtual_path")},"page.location":function(){return n=(t=mt()).length?(function(t){for(var e=0;e<t.length;e++){var n=t[e].split("="),r=!1,o=n[1];o!==decodeURIComponent(n[1])&&(o=decodeURIComponent(n[1]),r=!0);var i=bt(o);r&&(i=encodeURIComponent(i)),t[e]="".concat(n[0],"=").concat(i)}}(t),"?"+t.join("&")):"",(r=s().location)&&(e="".concat(r.protocol,"//").concat(r.hostname).concat(r.pathname)),n&&(e="".concat(e).concat(n)),e;var t,e,n,r},"page.referrer":function(t){return t.doc.referrer},"site.privateLabelId":function(){return gn()}},En={win:s,doc:l};const kn=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(r);if(o){var n=_n(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"init",value:function(t){var e=t.traceId,n=t.contextFnMap,r=t.paramsFnMap;jn(_n(a.prototype),"init",this).call(this,{context:{traceId:e},contextFnMap:n,paramsFnMap:r})}}])&&On(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dn))({contextFnMap:Pn,paramsFnMap:En,windowName:"globalContext"});var Tn=["events"];function Cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xn={},In=["routing","webContext"],Rn=function(t,e,n){var r=e.callback;setTimeout((function(){try{r(n)}catch(e){g("Failed to push datalayer event to subscriber (".concat(t,") callback"),e)}}),0)},Ln=function(t,e,n){var r=e.schemaIds,o=function(t,e){e.events;var n=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,Tn),r=t.fields||[];return In.forEach((function(t){r.includes(t)||delete n[t]})),n}(e,n);e.batch?(o.events=r?n.events.filter((function(t){return r.includes(t.schemaId)})):n.events,o.events.length>0&&Rn(t,e,o)):n.events.forEach((function(n){r&&!r.includes(n.schemaId)||Rn(t,e,C(o,{event:n}))}))},Dn=function(t,e){var n=Bn();n.length>=An&&w("".concat(t," subscribed to SCC after the eventQueue was full. Some events may have been lost.")),n.forEach((function(n){return Ln(t,e,n)})),xn[t]=e},An=2e3,Mn=[],Bn=function(){return[].concat(Mn)};function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qn(o)?o:String(o)),r)}var o}var Un=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.interfaceType=n,this.interfaceVersion=r,this.internal=o,this.targets=i}var e,n;return e=t,(n=[{key:"preProcess",value:function(t){}},{key:"process",value:function(t){}}])&&Fn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vn(o)?o:String(o)),r)}var o}function Kn(t,e){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kn(t,e)}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kn(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gn(r);if(o){var n=Gn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"process",value:function(t){this._pushToQueue(t)}},{key:"_pushToQueue",value:function(t){if(!this.internal.hasFired){var e=this._getEvents(t);if(e&&0!==e.length){for(var n=F(),r=0;r<e.length;r++)e[r].data=C({eventCreationTimestamp:n},e[r].data);var o=this._getGlobalSchemaId(),i=this._getBusinessContext();kn.updateContext(),bn.updateContext(),a={schemaId:o,global:kn.context,businessContext:i,events:e,webContext:C(bn.context,this._getWebContext(t)),routing:{eventBusApiKey:this._getApiKey(),globalContextVersion:kn.version,hasConversion:this._hasConversion(),targets:this.targets}},D(a),Mn.push(a),function(t){for(var e=0,n=Object.entries(xn);e<n.length;e++){var r=(c=2,function(t){if(Array.isArray(t))return t}(a=n[e])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,f=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){f=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return c}}(a,c)||function(t,e){if(t){if("string"==typeof t)return Cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(t,e):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];try{Ln(o,i,t)}catch(t){g("Failed to push datalayer event batch to subscriber (".concat(o,")"),t)}}var a,c}(a),Mn.length>An&&Mn.shift(),this.internal.hasFired=!0}}var a}},{key:"_getSchemaId",value:function(){}},{key:"_getEvents",value:function(t){return[{schemaId:this._getSchemaId(),data:t}]}},{key:"_getGlobalSchemaId",value:function(){return gn()?"urn:shared:user:events:/v2":"urn:shared:user:events:/v1"}},{key:"_getBusinessContext",value:function(){}},{key:"_getApiKey",value:function(){return qt("eventBus","sccApiKey")}},{key:"_hasConversion",value:function(){}},{key:"_getWebContext",value:function(t){}}])&&Nn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Un);function Wn(t){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wn(o)?o:String(o)),r)}var o}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Qn(t){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(t)}const Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qn(r);if(o){var n=Qn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getBusinessContext",value:function(){return this.input.businessContext}},{key:"_getEvents",value:function(){return this.input.events}},{key:"_getApiKey",value:function(){return this.input.apiKey}},{key:"_getGlobalSchemaId",value:function(){return this.input.schemaId}}])&&$n(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(zn);var Zn="urn:shared:user:event:/data-platform/signals/click/v1",Xn="urn:shared:user:event:/data-platform/signals/impression/v1",Yn="urn:shared:user:event:/data-platform/signals/element-action/v1",tr="urn:shared:user:event:/data-platform/signals/traffic-event/v1",er="urn:shared:user:event:/data-platform/signals/page-view/v1",nr="urn:shared:user:event:/data-platform/signals/ecommerce/add-to-cart/v1",rr="urn:shared:user:event:/data-platform/signals/ecommerce/checkout-progress/v1",or="urn:shared:user:event:/data-platform/signals/ecommerce/remove-from-cart/v1",ir="urn:shared:user:event:/data-platform/signals/ecommerce/transaction/v2",ar="urn:shared:user:event:/data-platform/signals/experiment-assignment/v1",cr="urn:shared:user:event:/rigor/page-navigation/v1",ur="urn:shared:user:event:/rigor/page-navigation-delayed/v1",fr="urn:shared:user:event:/data-platform/signals/conversion/v1",sr="urn:shared:user:event:/appconfig/id-percentage-evaluation/v1",lr=/[^a-z0-9\_\/\.\-]/g,pr=/^([a-z0-9_\-]+)\.([a-z0-9_\-]+)\.(([a-z0-9_\/\-]+)\.)?([a-z0-9_\/\-]+)\.([a-z0-9_\-]+)\.([a-z0-9_\-]+)$/g,yr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.eid,n=t.customProperties,r=t.eventCategory;return C({pageLevelProperties:C(Gt),identityRealm:qt("identity","realm")},e&&{eid:e},n&&{customProperties:n},r&&{eventCategory:r})},vr=function(t,e,n,r){var o={traffic:yr({eid:e,customProperties:r}),producerEventId:t};if(e){var i=function(t){return t.split(".")}(e),a=function(t){return t[t.length-1]}(i);(function(t){return!!(t.match(pr)&&t.length<=500)})(e)&&function(t,e,n){return e===n&&t.length>=5&&t.length<=6}(i,a,n)&&(o.element=function(t,e){var n=6===t.length?1:0,r={area:t[0],product:t[1],section:t[2+n],widget:t[3+n]};return["impression","click"].includes(e)||(r.action=e),r}(i,a))}return o},dr=function(t,e,n,r){null!=r&&null!=n&&0!==r&&0!==n&&n>r&&(t[e]=Math.round(n-r))},br=function(t,e,n,r){var o=Y(e);!function(t,e){dr(t,"pageLoadTime",e.loadEventStart,e.navigationStart),dr(t,"domContentLoadedTime",e.domContentLoadedEventStart,e.navigationStart),dr(t,"domInteractiveTime",e.domInteractive,e.navigationStart),dr(t,"pageDownloadTime",e.responseEnd,e.responseStart),dr(t,"domainLookupTime",e.domainLookupEnd,e.domainLookupStart),dr(t,"serverResponseTime",e.responseStart,e.requestStart),dr(t,"serverConnectionTime",e.connectEnd,e.connectStart),dr(t,"redirectionTime",e.fetchStart,e.navigationStart)}(o,e);var i={navigationType:e.navigationType,timing:{navigation:o},traffic:yr({customProperties:n}),producerEventId:t,contentLoadType:r};return"hard"===r&&(i.response=tt(e),i.timing.marks=e.marks,i.timing.measures=e.measures,i.timing.paint={firstPaint:e.fp,firstContentfulPaint:e.fcp,largestContentfulPaint:e.lcp}),i},mr=function(t,e,n){return{timing:{paint:{largestContentfulPaint:e.LCP},vitals:{cumulativeLayoutShift:e.CLS,firstInputDelay:e.FID,timeToInteractive:e.timeToInteractive}},traffic:yr({customProperties:n}),producerEventId:t}};function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hr(o)?o:String(o)),r)}var o}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}function Or(t){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Or(t)}const jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Or(r);if(o){var n=Or(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,n=[{key:"_getSchemaId",value:function(){return Yn}},{key:"_getActionType",value:function(t){return t.element.action}},{key:"_getEvents",value:function(t,e){var n=t.traffic||{};return n.eid=this._buildLegacyEid(this._getActionType(t),t.element,n.eid),[{schemaId:this._getSchemaId(),data:C(t,{producerEventId:e||this.internal.eventId,element:t.element,traffic:yr(n)})}]}},{key:"_buildLegacyEid",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(e.area,".").concat(e.product,".").concat(e.section,".").concat(e.widget,".").concat(t)}},{key:"_transformLegacyPromo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.eid,o=n.customProperties,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{id:i.id,name:i.name,creative_name:i.creative,creative_slot:i.position,type:t,properties:o,eid:this._buildLegacyEid(t,e,r)}}},{key:"_isPromo",value:function(t){return t.promotion&&Object.keys(t.promotion).length>0}}],n&&gr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(zn);function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Sr(o)?o:String(o)),r)}var o}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}function Er(t){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Er(t)}const kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Er(r);if(o){var n=Er(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getSchemaId",value:function(){return Zn}},{key:"_getActionType",value:function(){return"click"}}])&&_r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(jr);function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Tr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Tr(o)?o:String(o)),r)}var o}function Ir(){return Ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ir.apply(this,arguments)}function Rr(t,e){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rr(t,e)}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}const Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(r);if(o){var n=Lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getSchemaId",value:function(){return Xn}},{key:"_getActionType",value:function(){return"impression"}},{key:"_getEvents",value:function(t){var e=this,n=[];return t.impressions.forEach((function(t){var r;n.push.apply(n,function(t){if(Array.isArray(t))return Cr(t)}(r=Ir(Lr(a.prototype),"_getEvents",e).call(e,t,ee()))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),n}}])&&xr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(jr);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ar(o)?o:String(o)),r)}var o}function Br(t,e){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Br(t,e)}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(t)}var Fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Br(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qr(r);if(o){var n=qr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"process",value:function(t){x(t.config),T(t.config,(function(e,n){if(!t.overwrite){var r=Dt.get(e);U(r)?n=[].concat(r,n):"object"===Ar(r)&&(n=C(r,n))}Dt.set(e,n)}))}}])&&Mr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Un);function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ur(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ur(o)?o:String(o)),r)}var o}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(r);if(o){var n=Kr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"process",value:function(t){Dn(t.name,{callback:t.callback,schemaIds:t.schemaIds,batch:t.batch,fields:t.fields})}}])&&Vr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Un);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zr(o)?o:String(o)),r)}var o}function $r(){return $r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$r.apply(this,arguments)}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Qr(t){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qr(t)}var Jr,Zr,Xr=function(t){var e={};if(U(t))for(var n=0;n<t.length;n++){var r=t[n];U(r)&&(e[r[0]]=I(r))}return e},Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qr(r);if(o){var n=Qr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"setTDataString",value:function(t){$r(Qr(a.prototype),"merge",this).call(this,function(t){return R(t,"^",",")}(t))}},{key:"stringify",value:function(){var t,e=x(this.getProperties());(t=e)&&T(t,(function(e,n){var r=(e+"").split(".").join("_");delete t[e],t[r]=n}));var n=L(e,"^",",");if(n)return n}},{key:"set",value:function(t,e){"object"!==zr(e)&&"[object Function]"!=={}.toString.call(e)?$r(Qr(a.prototype),"set",this).call(this,t,e):g("Invalid key/value pair found in Traffic's custom properties (tData). Objects, arrays, and functions are not supported.\n\nKey: '".concat(t,"' Value: '").concat(e,"' Type: '").concat(zr(e),"'."))}}])&&Wr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(W),to=function(t){var e=new Yr;return e.merge(t.custom_properties),t.traffic&&e.merge(t.traffic.customProperties),e},eo=function(t){var e=t.traffic;return e&&function(t,e){var n=t.eid||e&&e();if(!n)throw"";if(t.eid=n.toLowerCase(),function(t){return t.match(lr)}(t.eid))throw t.eid,""}(e),t},no=function(){return Math.floor(2147483647*Math.random())};function ro(t){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(t)}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ro(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ro(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ro(o)?o:String(o)),r)}var o}function io(t,e){return io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},io(t,e)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}var co=0,uo=function(){var t=Dt.get("components");if(Zr!==t)return Zr=t},fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&io(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(r);if(o){var n=ao(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getWebContext",value:function(){return{pageViewCount:co}}},{key:"_getEvents",value:function(t){var e=to(t);return[{schemaId:er,data:{forensics:{traceIdAdopted:M(Ze.get("traced")),components:uo()},traffic:yr({customProperties:e.getProperties()}),producerEventId:this.internal.eventId}}]}},{key:"preProcess",value:function(t){var e=t.path||t.virtual_path||t.virtualPath,n=void 0!==e;if(n||(e=s().location.pathname),Jr===e)throw"cmd: LogPageRequest duplicate page request detected, ignoring duplicate path";Jr=e,Ze.set("corrid",no()),n&&(Ht(),Ze.set("virtual_path",e)),Xe.incrementPageCount(),co+=1,Ze.get("trace_id")||Ze.merge(on())}}])&&oo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(zn),so=function(t){return[(new Re).map("element",[new Ie("area").required(),new Ie("product").required(),new Ie("section").required(),new Ie("widget").required()]).required().extend(t)]},lo=function(t){return[(new Re).map("traffic",[new Ie("customProperties")]).extend(t)]},po=function(){return[(new Re).substitute(lo([new Ie("eid")]))]},yo=function(){return[(new Re).substitute(so()),(new Re).substitute(po()),(new Re).map("promotion",[new Ie("id").required(),new Ie("name"),new Ie("creative"),new Ie("position")]),(new Re).map("product",[new Ie("actionCode").required().allowedValues(["add_to_cart","product_detail"]),(new Re).map("basket",[new Ie("couponCode"),new Ie("currencyCode"),new Ie("itemTrackingCode")]),(new Le).map("products",[new Ie("productId").required(),new Ie("productName"),new Ie("productInstanceId"),new Ie("priceUsd"),new Ie("quantity").required(),new Ie("couponCode"),new Ie("itemTrackingCode")]),(new Le).map("packages",[new Ie("id"),new Ie("priceUsd"),new Ie("quantity"),new Ie("category")])])]};const vo={add_click:{v1:{handler:kr,properties:[(new Re).substitute(yo()).transform(eo)]}},add_element_action:{v1:{handler:jr,properties:[(new Re).substitute([(new Re).substitute(so([new Ie("action").required().allowedValues(["blur","drag","focus","hover","load","scroll"])])),(new Re).substitute(po())]).transform(eo)]}},add_impressions:{v1:{handler:Dr,properties:[(new Le).map("impressions",[(new Re).substitute(yo()).transform(eo)]).withMinElements(1)]}},add_virtual_page_view:{v1:{handler:fo,properties:[new Ie("virtualPath").required(),(new Re).substitute(lo())]}},add_micro_events:{v1:{handler:Jn,properties:[new Ie("apiKey").required(),new Ie("schemaId").required(),(new Le).map("events",[new Ie("schemaId").required(),new Ie("data").required()]).withMinElements(1),(new Re).map("businessContext",[new Ie("schemaId").required(),new Ie("data").required()])]}},subscribe:{v1:{handler:Gr,properties:[new Ie("name").required(),new Ie("callback").required(),new Ie("schemaIds"),new Ie("fields"),new Ie("batch")]}},set_config:{v1:{handler:Fr,properties:[(new Re).map("config",[(new Le).map("components",[new Ie("name").required(),new Ie("version").required().outputType(de)]),(new Re).map("cookie",[new Ie("sameSite")]),(new Re).map("page",[new Ie("spa"),new Ie("id"),new Ie("contentGroup"),new Ie("referrerExclusion")]),(new Re).map("identity",[new Ie("realm")]),(new Re).map("site",[new Ie("privateLabelId")]),(new Re).map("timing",[new Ie("auto")])]).required(),new Ie("overwrite")]}}};function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mo(Object(n),!0).forEach((function(e){go(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function go(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===bo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wo=function(t,e){var n=cn.get(an)||{};cn.set(an,ho(ho({},n),{},go({},t,e)))};function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function jo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jo(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=function(t){var e=function(t,e){if("object"!==Oo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Oo(e)?e:String(e)}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Dn("scc-experiment-listener",{callback:function(t){var e=t.event,n=e.data;if(e.schemaId===ar)wo(n.experimentId,n.variantId);else if(e.schemaId===sr&&"hivemind"===n.fqAppId){var r=JSON.parse(n.settingValue);wo(n.setting,r.cohortId)}},schemaIds:[ar,sr]});var _o=!1,Po=function(t){var e=t.trfqMethods,n=t.legacyName,r=t.dataLayerConfig,o=t.globalContextConfig,i=t.hooks,a=i.onLoad,c=i.beforeLoad,u=i.beforeEvent,f=i.getEnvironment;if(!_o){_o=!0,Ft("build","env",f&&f()||qt("build","env")),Ze.merge(on()),kn.init(So({traceId:Ze.get("trace_id")},o)),ve(vo),function(){var t=s();if(t.PerformanceObserver){var e=new t.PerformanceObserver((function(t){var e=t.getEntries(),n=e[e.length-1];n.renderTime&&(H.lcp=Math.round(n.startTime))}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}}}();var p=new ut("complete"===l().readyState,(function(t){s().addEventListener("load",t)}));Xe.getSession(),c&&c();var y=new Ke(So({autoPageViewDisabled:Dt.get("".concat(n,".manualPageRequest")),beforeEvent:u},r));p.registerOnLoadFn((function(){a&&a(),y.start(),new Je(e),qt("timing","auto")&&function(t,e,n){if(!ot)if(ot=!0,rt())nt(t,et(t,e),n);else var r=setInterval((function(){rt()&&(clearInterval(r),nt(t,et(t,e),n))}),250)}(n,"auto"),qt("eventBus","enabled")&&(S(Et,[]),Pt=new _t(kt),s()._signalsDataLayer=s()._signalsDataLayer||[],s()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-bus",batch:!0,fields:["routing"],callback:function(t){var e=t.schemaId,n=t.global,r=t.businessContext,o=t.events,i=t.routing,a=i.eventBusApiKey,c=i.hasConversion,u=i.globalContextVersion;Pt.pushEvent({apiKey:a,businessContext:r,contextVersion:u,schemaId:e,global:n,events:o},c)}}}))})),h("SCC STARTED",Dt.getProperties())}};function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,To(r.key),r)}}function To(t){var e=function(t,e){if("object"!==Eo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Eo(e)?e:String(e)}function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Io(t,e){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Io(t,e)}function Ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lo(t){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(t)}function Do(t){var e=function(t,e){if("object"!==Co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Co(e)?e:String(e)}var Ao="_tccl_visitor",Mo="_tccl_visit",Bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Io(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lo(r);if(o){var n=Lo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ro(t)}(this,t)});function a(){var t,e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e=Ro(t=i.call.apply(i,[this].concat(c))),r="_scc_session",(n=Do(n="_sessionCookieName"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=a,(n=[{key:"getSession",value:function(){var t=nn(Ao),e=nn(Mo);t||e?(t||(t=ee()),e||(e=ee())):t=e=ee(),en(Ao,t,525600,"/"),en(Mo,e,30,"/");var n=rn(this._sessionCookieName);return{visitorGuid:t,visitGuid:e,pageCount:B(n.pc)||0}}}])&&xo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=void 0,(n=To(n="_sessionCookieName"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n;return e=t,(n=[{key:"getSession",value:function(){}},{key:"saveSessionCookie",value:function(t){var e=L(t,"&","=");en(this._sessionCookieName,e,20,"/")}},{key:"incrementPageCount",value:function(){var t=rn(this._sessionCookieName),e=B(t.pc)||0;t.pc=e+1,t.C_TOUCH=F(),this.saveSessionCookie(t)}}])&&ko(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function qo(t){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qo(o)?o:String(o)),r)}var o}function Uo(t,e){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uo(t,e)}function Vo(t){return Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(t)}var No=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vo(r);if(o){var n=Vo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getEvents",value:function(t){var e=t.eid,n=t.type.toLowerCase(),r=function(t){return"click"===t?Zn:"impression"===t?Xn:["blur","drag","focus","hover","load","scroll"].includes(t)?Yn:tr}(n),o=to(t).getProperties();return[{schemaId:r,data:r!==tr?vr(this.internal.eventId,e,n,o):{traffic:yr({customProperties:o,eid:e,eventCategory:n}),producerEventId:this.internal.eventId}}]}}])&&Fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(zn);function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ko(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ko(o)?o:String(o)),r)}var o}function zo(t,e){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zo(t,e)}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}var $o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wo(r);if(o){var n=Wo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"_getApiKey",value:function(){return vt("eventBus","rigorApiKey")}},{key:"_getEvents",value:function(t){var e=t.is_hard_navigation?"hard":"soft",n=t.timing_object;if(n){if(n.navigationStart)return[{schemaId:cr,data:br(this.internal.eventId,n,t.custom_properties,e)}];if(n.timeToInteractive)return[{schemaId:ur,data:mr(this.internal.eventId,n,t.custom_properties)}]}}}])&&Go(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(zn),Ho=function(){return[new Ie("custom_properties").optional()]};const Qo={add_event:{v1:{handler:No,properties:[new Ie("type").required(),(new Re).substitute([new Ie("eid").optional()]),(new Re).substitute(Ho())]}},add_page_view:{v1:{handler:fo,properties:[new Ie("path").optional(),(new Re).substitute(Ho())]}},add_perf:{v1:{handler:$o,properties:[new Ie("timing_object").required(),new Ie("is_hard_navigation").optional(),(new Re).substitute(Ho())]}}},Jo=function(t,e,n){s()._expDataLayer.push({schema:"add_event",version:"v1",data:{type:t,eid:e,custom_properties:Xr(n)}})},Zo=function(t,e){s()._expDataLayer.push({schema:"add_perf",version:"v1",data:{timing_object:t,custom_properties:Xr(e)}})};var Xo="traffic.tcc.instrumentation.navigation.timing",Yo="click",ti="impression",ei=function(t,e){var n=e.data,r=n.traffic.eid,o=n.element,i=void 0===o?{}:o,a=i.area,c=i.product,u=i.section,f=i.widget;return null!=r?r:"".concat(a,".").concat(c,".").concat(u,".").concat(f,".").concat(t)},ni=function(t){var e=t.data,n=e.element,r=e.traffic.eid;return n?n.action:r.split(".").pop()},ri=function(t){var e,n;switch(t.schemaId){case ir:return function(t,e,n){var r=n.newCustomerFlag,o=n.newVsRenewal;t=t||"modular-cart";var i=e?"payment-pending_":"payment-processed_";return"ecomm.payments.transaction.".concat(r?"new-customer_":"existing-customer_").concat(i).concat(o,".").concat(t,".success")}(null===(e=t.data.cart)||void 0===e?void 0:e.type,null===(n=t.data.payment)||void 0===n?void 0:n.pendingFlag,t.data.order);case nr:return"gpd.exp.tcc.add-to-cart.success";case or:return"gpd.exp.tcc.remove-from-cart.success";case rr:return 1===t.data.checkout.step?"gpd.exp.tcc.begin-checkout.success":"gpd.exp.tcc.checkout-progress.success";case ar:return"traffic.tcc.instrumentation.experiment.add_experiment";case fr:return"".concat("tcc.conversion.").concat(t.data.conversion.area,".").concat(t.data.conversion.product,".").concat(t.data.conversion.revenue,".").concat(t.data.conversion.action);case tr:return t.data.traffic.eid;case Yn:return ei(ni(t),t);case Zn:return ei(Yo,t);case Xn:return ei(ti,t);case cr:case ur:return Xo}},oi=function(t){switch(t.schemaId){case cr:case ur:return"pageperf";case tr:return t.data.traffic.eventCategory;case fr:return"genConv";case ir:case nr:case or:case rr:return"ecommerce";case ar:return"experiment";case Yn:return ni(t);case Zn:return Yo;case Xn:return ti}},ii="perf",ai="pageevent",ci=function(t){var e=t.schemaId,n=t.data;switch(e){case er:return"pageview";case cr:case ur:return ii;case tr:return n.traffic.eid===Xo?ii:ai;default:return ai}};function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}var fi,si="_trfqSendLog",li=[er,Zn,Xn,tr,Yn,ur,cr],pi=function(t){var e=t.events,n=t.global,r=t.webContext,o=function(t){var e,n,r=t.traceId,o=t.context,i=t.client,a=t.page;return{dh:a.host,dr:(n=a.referrer,void 0!==n?n.substring(0,1e3):void 0),ua:i.userAgent,client_name:i.sdk.name,cv:i.sdk.version,vg:o.sessionId,vtg:o.visitorId,dp:(e=a.path,e?(/\/$/.test(e)&&(e=e.substring(0,e.length-1)),"/"!==e[0]&&(e="/".concat(e)),e):"notspecified"),trace_id:r}}(n);e.forEach((function(t){var e=t.schemaId,i=t.data,a=C(o,function(t){var e=t.schemaId,n=t.webContext,r=t.data,o=r.eventCreationTimestamp,i=r.producerEventId,a=r.traffic,c=a.customProperties,u=a.pageLevelProperties,f=void 0===u?{}:u,s=new Yr(c),l=new W({cts:o,hit_id:i,ea:oi(t),ht:ci(t),eid:ri(t),trfd:JSON.stringify(f),usrin:s.stringify(),ap:f.ap?f.ap:"not_set",vci:n.pageCorrelationId,z:no()});return e!==cr&&e!==ur||function(t,e){var n=e.schemaId,r=e.data,o=r.navigationType,i=r.contentLoadType,a=r.timing,c=a.navigation,u=a.vitals,f=void 0===u?{}:u,s=a.paint,l=void 0===s?{}:s;n===cr?t.merge({tce:c.connectEnd,tcs:c.connectStart,tdc:c.domComplete,tdclee:c.domContentLoadedEventEnd,tdcles:c.domContentLoadedEventStart,tdi:c.domInteractive,tdl:c.domLoading,tdle:c.domainLookupEnd,tdls:c.domainLookupStart,tfs:c.fetchStart,tns:c.navigationStart,trqs:c.requestStart,tre:c.responseEnd,trps:c.responseStart,tles:c.loadEventStart,tlee:c.loadEventEnd,nt:o,LCP:l.largestContentfulPaint}):n===ur&&(i="hard",t.merge({LCP:l.largestContentfulPaint,CLS:f.cumulativeLayoutShift,FID:f.firstInputDelay,timeToInteractive:f.timeToInteractive})),t.set("nav_type",i)}(l,t),l.getProperties()}({schemaId:e,data:i,webContext:r,global:n}));!function(t,e){var n,r,o=ht("events.api")+e,i=(r={},T(t,(function(t,e){void 0!==e&&"object"!==ui(e)&&"[object Function]"!=={}.toString.call(e)&&(r[t]=e)})),n={},T(r,(function(t,e){void 0!==e&&(n[t]=encodeURIComponent(e))})),n),a=function(t,e){var n=-1===e.indexOf("?")?"?":"&",r=L(t,"&","=");return"".concat(e).concat(n).concat(r)}(i,o);yt(a,L(i,"&","="),"GET",null,si)}(a,"/t/1/tl/event")}))},yi={session:function(){return Xe.getSession()}},vi={pageCorrelationId:function(){return Ze.get("corrid")}},di="tccl";return fi=new Bo,Xe=fi,ve(Qo),function(t){var e=t.legacyName,n=t.configManagerProps,r=t.hooks.beforeInit;!function(o){try{var i,a=l().cookie;Object.defineProperty(document,"cookie",{get:function(){return a},set:function(t){(i=i||Object.getOwnPropertyDescriptor(Document.prototype,"cookie")).set.call(document,t),a=i.get.call(document)},configurable:!0,enumerable:!0}),function(){if(a=p().userAgent.toLowerCase(),!/msie [1-8]\./.test(a))if(i="_".concat(e,"Internal"),u=i,void 0!==s()[u]||(s()[u]={},0))g("SCC Library has already been loaded on page");else if(function(t){var e=t.dataLayerName,n=t.clientConfigPrefixes,r=t.ignoredProperties,o=t.legacyName;At=o,Nt=r||[],Bt=e,Vt=n,Mt=s()[Bt]||[],_(Bt,Mt),S("".concat(Bt,"Log"),Kt),Ht()}(n),r&&r(),"off"!==Dt.get("".concat(e,".status"))){var o=l();"prerender"!==o.visibilityState?Po(t):o.addEventListener("visibilitychange",(function(){"prerender"!==o.visibilityState&&"unloaded"!==o.visibilityState&&Po(t)}))}var i,a}()}finally{delete l().cookie}}()}({legacyName:di,trfqMethods:r,configManagerProps:{legacyName:di,dataLayerName:"_trfd",clientConfigPrefixes:[di]},dataLayerConfig:{pageViewSchema:"add_page_view",autoPageViewDisabled:!1,immediateSchemas:["add_page_view"]},globalContextConfig:{contextFnMap:{"context.userType":function(){return"c2"},"context.visitorId":function(t){return t.session.visitorGuid},"context.sessionId":function(t){return t.session.visitGuid},"page.sessionPageViewCount":function(t){return t.session.pageCount}},paramsFnMap:yi},hooks:{getEnvironment:function(){var t=Dt.get("".concat(di,".baseHost"));if(t)return"secureserver.net"===t?"prod":"test-secureserver.net"===t?"test":"dev"},onLoad:function(){S(si,[]),s()._signalsDataLayer=s()._signalsDataLayer||[],s()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-service",batch:!0,callback:pi,schemaIds:li,fields:["webContext"]}})},beforeLoad:function(){bn.init({contextFnMap:vi})}}}),e})()));